# Voice-Separaion-and-Enhancement
## Discription  
This program consists of several popular methods and its variants for speech separation and enhancement. The purposes of this program are to realize, test and compare methods quickly. The default model of microphone array is 6+1(peripheral+central) circular array. Test data are generated by ISM method based on TIMIT database. Voicebox toolbox is required.  
All codes are written and updated in Matlab by Ke Zhang. If you find any bug or error, please contact me.(zhangke9311@163.com)  
The list of metods:  
Beamforming:  
* DSB  
* MVDR  
* LCMV  
* maxSNR/GEVD  

Blind source separation(BSS):  
* ICA  
* IVA  
* AuxIVA  
* OverIVA  
* ILRMA  
* FastMNMF  

In general, methods in beamforming use the steering vector or other spatial information of sources to enhance the target speech, and BSS methods only use the number of sources except some cases for solving the permutation ambiguity.  
## Guides for users  
1. The main function is command.m in which you can set the number and angle of sound sources(0-45-315 degree), and select the algorithms in the list you want to test(set the value behind the corresponding method to 1 for running, 0 for not). Simulation environment can be set in ISM_setup.m, such as T60 for reveberation(0, 0.3s, 0.6s, 0.9s support), configures of microphone array and NoiseFlag for noise adding,etc.  
2. In Process.m, the steering vector of sound sources are calculated by the function 'Cal_transfer' and the length of window for fft is set. The plotting and generation of separated signals are controlled by 'sign_plot' and 'sign_write' in Process.m. The performance of methods are shown in the top right corner of the plotting figure where the column with 2 numbers consists of SIR improved and SIR output and the column with 3 numbers consists of SDR, SIR and SAR.   
3. If you want to test the method written by yourself, follow the steps:  
* step1: Add your method to the list in command.m  
* step2: Add the session of your method in Process.m  
* step3: Write the function of your method which often named as 'Process_name', the structure of which can refer to Process_DSB(a simplest method) which consists of the fundermental flow, such as the stft and reconstruction of the separated speech from time-frequency domain to waveform in time domain. The output of the Process_name method consists of 'Y' which is the separated speech, 'W' which is the filter or demixing matrix, and 'SetupStruc' which consists of some essential parameter(noting the window of enframe should preserved in 'SetupStruc.name' in Process_name).  
4. The room size used in ISM mehod is 6x4x3m. The microphone array is placed in the center of room and the distance between adjacent microphone in 6+1 microphone array is 4.35cm. The distance between the sound source and the center of microphone array is 1.5m. If you want to test other environments, you sould read and rewrite the readData.m to use the data generated by yourself. The calculation of steering vector in Cal_transefer.m should also be rewritten based the configuration of the microphone array.  
5. CommandOnline.m and OnProcess.m designed for online methods which process input signals by blocks, not whole ,but seldom use and not updated frequently.  

## Details of methods realization(remained)  
